<!DOCTYPE html>
<!-- saved from url=(0040)http://cheese.inet-tech.org.ua/Bacterio/ -->
<html><head lang="en"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body{
            background: linear-gradient(90deg ,#000000, #02000c);
            color: white;
            font-size: 14pt;
            overflow: hidden;
        }

        .sun{
            background-color: #ffe029;
            box-shadow: 0 0 35px #fffe46;
        }

        .sky{
            background-color: #36fff3;
            box-shadow: 0 0 35px #7adfff;
        }

        .eco{
            background-color: #3dff00;
            box-shadow: 0 0 35px #4aff60;
        }

        .rose{
            background-color: #ff0400;
            box-shadow: 0 0 35px #ff4143;
        }

        .deep{
            background-color: #ff00e1;
            box-shadow: 0 0 35px #ff4de6;
        }

        .sunLabel{
            color: #ffe029;
        }

        .skyLabel{
            color: #36fff3;
        }

        .ecoLabel{
            color: #3dff00;
        }

        .roseLabel{
            color: #ff0400;
        }

        .deepLabel{
            color: #ff00e1;
        }
        #fpsMeter{
            float: right;
            color: white;
        }
    </style>
    <script src="bacteria.js"></script>
    <script>

        var CurrentSecondNumber = 0;
        var CurrentFrameNumber = 0;
        var LastSecondFrameNumber = 0;
        var Global= {};
        Global.arr = [];
        Global.size = 150;
        Global.cursorBlackHole = false;
        Global.cursorBlackHolePower = 20;

        Global.Points = {};
        Global.Points.Eco = 0;
        Global.Points.Sky = 0;
        Global.Points.Deep = 0;
        Global.Points.Rose = 0;
        Global.Points.Sun = 0;

        Global.IntervalID = 0;
        Global.Interval = 16;

        function startGame(interval, size)
        {
            Global.Interval = interval || Global.Interval;
            Global.arr = [];
            Global.size = size || Global.size;
            Global.Points.eco = 0;
            Global.Points.sky = 0;
            Global.Points.deep = 0;
            Global.Points.rose = 0;
            Global.Points.sun = 0;

            document.getElementById("canvas").innerHTML = 
                    '<div id="fpsMeter"></div>\
                     <div class="skyLabel">Team SKY: <span id="sky">0</span></div>\
                     <div class="ecoLabel">Team ECO: <span id="eco">0</span></div>\
                     <div class="sunLabel">Team SUN: <span id="sun">0</span></div>\
                     <div class="deepLabel">Team DEEP: <span id="deep">0</span></div>\
                     <div class="roseLabel">Team ROSE: <span id="rose">0</span></div>';

            for(var i = 0; i < Global.size; i++)
            {
                var className = "";
                if (i < Global.size/5) className = "sun";
                else if (i < 2*Global.size/5) className = "eco";
                else if (i < 3*Global.size/5) className = "sky";
                else if (i < 4*Global.size/5) className = "rose";
                else className = "deep";
                Global.arr[i] = new Bacteria(className);
            }
            for (var i = 0; i < Global.size; i++) {
                Global.arr[i].DOM = document.getElementById(Global.arr[i].id);
            }

            clearInterval(Global.IntervalID);
            Global.IntervalID = setInterval(function () {
                if (CurrentSecondNumber != new Date().getSeconds())
                {
                    document.getElementById("fpsMeter").innerHTML = CurrentFrameNumber - LastSecondFrameNumber + "fps";
                    LastSecondFrameNumber = CurrentFrameNumber;
                    CurrentSecondNumber = new Date().getSeconds();
                }
                CurrentFrameNumber++;
                document.getElementById("sky").innerHTML = Math.floor(Global.Points.sky);
                document.getElementById("eco").innerHTML = Math.floor(Global.Points.eco);
                document.getElementById("sun").innerHTML = Math.floor(Global.Points.sun);
                document.getElementById("deep").innerHTML = Math.floor(Global.Points.deep);
                document.getElementById("rose").innerHTML = Math.floor(Global.Points.rose);
                for(var i = 0; i < Global.size; i++)
                {
                    if (Global.cursorBlackHole)
                    {
                        Global.arr[i].target.x = Cursor.x;
                        Global.arr[i].target.y = Cursor.y;
                        Global.arr[i].vector = new Direction(Global.arr[i].x, Global.arr[i].y, Global.arr[i].target.x, Global.arr[i].target.y, Global.cursorBlackHolePower);
                    }
                    Global.arr[i].Update();
                }
            }, Global.Interval);
        }

        Cursor = {};

        window.onmousemove = function(e)
        {
            Cursor.x = e.clientX;
            Cursor.y = e.clientY;
        };

        window.onload = startGame;
    </script>
</head>
<body id="canvas"></body>
</html>